(this["webpackJsonpe-commerce"]=this["webpackJsonpe-commerce"]||[]).push([[0],{32:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var c=n(0),s=(n(32),n(1)),i=n.n(s),r=n(19),a=n.n(r),l=n(9),o=n(5),d=(n(40),n(6)),j=(n(41),n.p+"static/media/ecommerce_logo.3d0a215c.svg"),u=n(3),p=n.n(u),h=n(8),b="SET_PRODUCTS",m="SET_PRODUCTS_LOADING",O="SORT_PRICE_UP",x="SORT_PRICE_DOWN",f="SORT_TIME_UP",g="SORT_TIME_DOWN",y="SET_CART",v="CLOSE_CART",C="TOGGLE_CART",N="SET_CATEGORIES",w="SET_BELT",S=n(14),T=n.n(S),k="https://ecommerce-strapi-cms.onrender.com",I=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return function(){var c=Object(h.a)(p.a.mark((function c(s){var i,r;return p.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return i="/products/list",20,i+="?_start=".concat(20*(n-1),"&_limit=").concat(20),(null===t||void 0===t?void 0:t.length)>0&&(i+="&name_contains=".concat(t)),(null===e||void 0===e?void 0:e.length)>0&&(i+="&categories.slug_contains=".concat(e)),c.prev=6,s({type:m,payload:!0}),c.next=10,fetch(k+i).then((function(e){return e.json()}));case 10:r=c.sent,s({type:b,payload:r}),s({type:w,payload:r}),c.next=18;break;case 15:c.prev=15,c.t0=c.catch(6),console.log("CANNOT GET PRODUCTS",c.t0);case 18:case"end":return c.stop()}}),c,null,[[6,15]])})));return function(e){return c.apply(this,arguments)}}()},_=function(e,t,n){return function(){var c=Object(h.a)(p.a.mark((function c(s){var i,r;return p.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return i=T.a.get("guest_id"),console.log("ADD ITEM TO CART of id=",i),c.prev=2,c.next=5,fetch(k+"/guests/additem/"+i,{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({product:e,size:t,quantity:n})}).then((function(e){return e.json()}));case 5:if(!(r=c.sent).error){c.next=9;break}return console.log(r.message),c.abrupt("return");case 9:console.log(r),s({type:y,payload:r.data}),c.next=16;break;case 13:c.prev=13,c.t0=c.catch(2),console.log("CANNOT ADD ITEM TO CART",c.t0);case 16:case"end":return c.stop()}}),c,null,[[2,13]])})));return function(e){return c.apply(this,arguments)}}()},E=function(e,t){return function(){var n=Object(h.a)(p.a.mark((function n(c){var s,i;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=T.a.get("guest_id"),console.log("UPDATE ITEM IN CART of id=",s),n.prev=2,n.next=5,fetch(k+"/guests/updateitem/"+s,{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({item_id:e,quantity:t})}).then((function(e){return e.json()}));case 5:if(!(i=n.sent).error){n.next=9;break}return console.log(i.message),n.abrupt("return");case 9:console.log(i),c({type:y,payload:i.data}),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(2),console.log("CANNOT UPDATE PRODUCT",n.t0);case 16:case"end":return n.stop()}}),n,null,[[2,13]])})));return function(e){return n.apply(this,arguments)}}()},z=function(){var e=Object(h.a)(p.a.mark((function e(t){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=T.a.get("guest_id"),console.log("CHECKOUT CART of id=",n),e.prev=2,!n){e.next=7;break}return e.next=6,fetch(k+"/checkout/"+n,{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({customer_data:{name:"".concat(t.firstname," ").concat(t.lastname),email:t.email,phone:t.phone},shipping_data:{country:t.country,state:t.state,city:t.city,line1:t.line1,line2:t.line2,postal_code:t.postalCode}})}).then((function(e){return e.json()}));case 6:c=e.sent;case 7:return console.log("create checkout ",c),e.abrupt("return",c);case 11:e.prev=11,e.t0=e.catch(2),console.log("COULD NOT CREAT CHECKOUT",e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(h.a)(p.a.mark((function e(t,n){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(k+"/checkout/pay",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({checkout_id:t,selected_shipping_method:n})}).then((function(e){return e.json()}));case 3:return c=e.sent,console.log("create payment ",c),e.abrupt("return",c);case 8:e.prev=8,e.t0=e.catch(0),console.log("COULD NOT CREAT CHECKOUT PAYMENT",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),D=function(){var e=Object(h.a)(p.a.mark((function e(t,n){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(k+"/checkout/order",{method:"POST",credentials:"include",headers:{"Content-type":"application/json"},body:JSON.stringify({checkout_id:t,paymentIntent_id:n})}).then((function(e){return e.json()}));case 3:return c=e.sent,console.log("order ",c),e.abrupt("return",c);case 8:e.prev=8,e.t0=e.catch(0),console.log("COULD NOT CREAT ORDER",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),R=function(){return{type:v}},P=function(){return{type:C}},W={conatiner:{display:"flex",alignItems:"center",justifyContent:"space-between",position:"relative",marginLeft:6},cartBtn:{backgroundColor:"transparent",display:"flex",alignItems:"center",justifyContent:"flex-start",width:"30px",marginLeft:"10px",border:"none",cursor:"pointer",fontSize:"1.6rem",fontWeigth:"300"},badge:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#840067",color:"#fff",height:"20px",width:"20px",position:"absolute",right:-3,top:-8,borderRadius:"50%",fontSize:"14px",fontWeight:"400"}},L=function(e){var t=e.itemsCount,n=Object(o.b)();return Object(c.jsx)("div",{style:W.conatiner,children:Object(c.jsxs)("button",{style:W.cartBtn,onClick:function(){return n(P())},children:[Object(c.jsx)("i",{className:"fas fa-shopping-basket",style:{color:t>0?"#840067":"black",fontSize:"1.4rem"}}),t>0&&Object(c.jsx)("span",{style:W.badge,children:t})]})})},U=function(){var e,t=Object(o.c)((function(e){return e.cart})).content,n=Object(d.f)().pathname,s="/"===n?"active":"",i="/shop"===n?"active":"";return Object(c.jsx)("div",{className:"navbar",children:Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("div",{className:"navbar-logo",children:Object(c.jsx)(l.b,{to:"/",children:Object(c.jsx)("img",{src:j,style:{height:50}})})}),Object(c.jsxs)("nav",{className:"navbar-menu",children:[Object(c.jsx)(l.b,{to:"/",children:Object(c.jsx)("p",{className:"navbar-menu-item ".concat(s),children:"Home"})}),Object(c.jsx)(l.b,{to:"/shop",children:Object(c.jsx)("p",{className:"navbar-menu-item ".concat(i),children:"Shop"})})]}),Object(c.jsx)(L,{itemsCount:null===t||void 0===t||null===(e=t.line_items)||void 0===e?void 0:e.length})]})})},F=n.p+"static/media/ecommerce_icon.d71ba518.svg",M={backgroundColor:"rgb(50,50,50)",width:"100%",height:"200px"},B={color:"#fff",height:"100%",fontSize:"1rem",fontWeight:"700",display:"flex",alignItems:"center",justifyContent:"center"},q={height:60},H={},G=function(){return Object(c.jsx)("div",{style:M,children:Object(c.jsxs)("div",{className:"container",style:B,children:[Object(c.jsx)("img",{src:F,alt:"icon",style:H}),Object(c.jsx)("img",{src:j,alt:"logo",style:q})]})})},J={backgroundColor:"#fafaf6",width:"100%",height:120,padding:7,margin:4,display:"flex",alignItems:"center",justifyContent:"space-between"},V={container:{backgroundColor:"#fff",padding:5,width:"30%",height:"100%"},image:{width:"100%",height:"100%",objectFit:"cover"}},Y={container:{position:"relative",height:"100%",width:"70%",padding:"0 0 0 10px",display:"flex",flexDirection:"column",justifyContent:"space-between"},data:{width:"100%",flexGrow:1},dataSub:{display:"flex",alignItems:"center",margin:"2px 0"},dataTxt:{fontWeight:"600",fontSize:"1rem",marginRight:10},price:{width:"100%",display:"flex",alignItems:"center",justifyContent:"flex-end"},priceTxt:{fontSize:"1.2rem",fontWeight:"600"}},K={display:"flex",alignItems:"center",justifyContent:"space-between",width:60,height:30,backgroundColor:"#edede6"},Q={height:"100%",width:15,border:"none",cursor:"pointer",fontWeight:"700",fontSize:"1rem",backgroundColor:"#edede6",display:"flex",alignItems:"center",justifyContent:"center"},Z={backgroundColor:"#fafaf6",border:"1px solid #878787",color:"#878787",fontSize:12,width:20,height:20,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:2},X={position:"absolute",right:0,top:0,backgroundColor:"transparent",border:"none",cursor:"pointer",fontSize:"1rem"},$=function(e){var t=e.item,n=e.dispatch;return Object(c.jsxs)("div",{className:"cartItem-card",style:J,children:[Object(c.jsx)("div",{style:V.container,children:Object(c.jsx)("img",{src:t.product.image.url,alt:t.name,style:V.image})}),Object(c.jsxs)("div",{style:Y.container,children:[Object(c.jsx)("button",{style:X,onClick:function(){return n((e=t.id,function(){var t=Object(h.a)(p.a.mark((function t(n){var c,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=T.a.get("guest_id"),console.log("DELETE ITEM IN CART of id=",c),t.prev=2,t.next=5,fetch(k+"/guests/deleteitem/"+c,{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({item_id:e})}).then((function(e){return e.json()}));case 5:if(!(s=t.sent).error){t.next=9;break}return console.log(s.message),t.abrupt("return");case 9:console.log(s),n({type:y,payload:s.data}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),console.log("CANNOT DELETE PRODUCT",t.t0);case 16:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(e){return t.apply(this,arguments)}}()));var e},children:Object(c.jsx)("i",{className:"far fa-trash-alt"})}),Object(c.jsxs)("div",{style:Y.data,children:[Object(c.jsx)("h3",{children:t.name}),Object(c.jsxs)("div",{style:Y.dataSub,children:[Object(c.jsx)("p",{style:Y.dataTxt,children:"Size:"}),Object(c.jsx)("div",{style:Z,children:t.size})]}),Object(c.jsxs)("div",{style:Y.dataSub,children:[Object(c.jsx)("p",{style:Y.dataTxt,children:"Quantity:"}),Object(c.jsxs)("div",{style:K,children:[Object(c.jsx)("button",{style:Q,onClick:function(){return n(E(t.id,-1))},children:"-"}),Object(c.jsx)("p",{children:t.quantity}),Object(c.jsx)("button",{style:Q,onClick:function(){return n(E(t.id,1))},children:"+"})]})]})]}),Object(c.jsx)("div",{style:Y.price,children:Object(c.jsxs)("p",{style:Y.priceTxt,children:[t.quantity*t.product.price," ",t.product.currency]})})]})]})},ee={backgroundColor:"rgba(0,0,0,.3)",width:"100%",height:"100%",position:"fixed",right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"flex-end",zIndex:4},te={backgroundColor:"#fff",width:440,height:"100%",display:"flex",flexDirection:"column",alignItems:"center",position:"relative"},ne={width:"100%",height:"60px",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 1rem",position:"absolute",top:0,right:0},ce={backgroundColor:"transparent",display:"flex",alignItems:"center",justifyContent:"flex-start",width:"30px",marginLeft:"10px",border:"none",cursor:"pointer",fontSize:"1.6rem",fontWeigth:"300"},se={width:"100%",height:"100%",paddingTop:"60px",paddingBottom:"125px",display:"flex",alignItems:"center",justifyContent:"center"},ie={padding:"1rem",width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",overflowY:"scroll"},re={backgroundColor:"#fff",width:"100%",height:"min-content",zIndex:2,padding:"1rem",boxShadow:"0px -12px 10px -15px rgba(0,0,0,.4)",position:"absolute",bottom:0,right:0},ae={display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},le={fontSize:"1.6rem",fontWeight:"300",color:"black"},oe={fontSize:"1.6rem",fontWeight:"500",color:"black",fontFamily:"'Cinzel', serif"},de={fontFamily:"'Cinzel', serif"},je={display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 0 0 0"},ue={display:"flex",alignItems:"center",justifyContent:"center",marginRight:5,fontSize:"2rem",color:"#878787"},pe={margin:"0px 4px"},he={width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},be={fontSize:"3rem"},me={width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},Oe={fontSize:"2rem",fontWeight:"700",color:"rgba(0,0,0,.4)"},xe=function(){var e=Object(o.c)((function(e){return e.cart})),t=Object(o.b)();return e.showCart?Object(c.jsx)("div",{style:ee,onClick:function(e){e.target.classList.contains("empty")&&t(P())},className:"empty",children:Object(c.jsxs)("div",{style:te,children:[Object(c.jsxs)("div",{style:ne,children:[Object(c.jsx)("button",{style:ce,className:"",onClick:function(){return t(R())},children:Object(c.jsx)("i",{className:"fas fa-times"})}),Object(c.jsx)(L,{itemsCount:e.content.line_items.length})]}),Object(c.jsx)("div",{style:se,children:e.loading?Object(c.jsx)("div",{style:he,children:Object(c.jsx)("i",{className:"fas fa-spinner",style:be})}):0===e.content.line_items.length?Object(c.jsx)("div",{style:me,children:Object(c.jsx)("p",{style:Oe,children:"No Products Available"})}):Object(c.jsx)("div",{style:ie,children:e.content.line_items.map((function(e,n){return Object(c.jsx)($,{item:e,dispatch:t},n)}))})}),Object(c.jsxs)("div",{style:re,children:[Object(c.jsxs)("div",{style:ae,children:[Object(c.jsx)("p",{style:le,children:"Total:"}),Object(c.jsxs)("p",{style:oe,children:[Object(c.jsx)("span",{style:de,children:e.content.subtotal})," ",e.content.currency]})]}),Object(c.jsxs)("div",{style:je,children:[Object(c.jsxs)("div",{style:ue,children:[Object(c.jsx)("i",{style:pe,className:"fab fa-cc-mastercard"}),Object(c.jsx)("i",{style:pe,className:"fab fa-cc-visa"})]}),Object(c.jsx)(l.b,{to:"/checkout",children:Object(c.jsx)("button",{className:"cart-checkout-btn",disabled:0===e.content.line_items.length,children:"Checkout now"})})]})]})]})}):null},fe=n(7),ge=(n(44),n(45),{margin:"0 0 1rem 0",width:"100%"}),ye={width:"100%",borderBottom:"2px solid black"},ve={cursor:"pointer",lineHeight:"2rem",marginLeft:"1rem"},Ce={listStyle:"none",display:"flex",alignItems:"center",flexWrap:"wrap",margin:"6px"},Ne={fontSize:12,width:30,height:30,margin:2},we=function(e){var t=e.sort,n=e.category,i=e.setCategory,r=e.setQuery,a=e.refreshShop,l=Object(o.c)((function(e){return e.categories})),d=Object(o.b)(),j=Object(s.useState)(""),u=Object(fe.a)(j,2),p=u[0],h=u[1];return Object(c.jsxs)("div",{className:"filter-container",children:[Object(c.jsxs)("form",{style:ge,onSubmit:function(e){e.preventDefault(),p.length>0?(r(p),h("")):a()},children:[Object(c.jsx)("h4",{style:ye,children:"Search:"}),Object(c.jsxs)("div",{className:"searchGroup",children:[Object(c.jsx)("input",{type:"text",name:"search",className:"searchInput",placeholder:"search here ...",value:p,onChange:function(e){return h(e.target.value)}}),Object(c.jsx)("button",{type:"submit",className:"searchButton",children:p.length>0?Object(c.jsx)("i",{className:"fas fa-search",title:"search"}):Object(c.jsx)("i",{className:"fas fa-sync-alt",title:"refresh"})})]})]}),Object(c.jsxs)("div",{style:ge,children:[Object(c.jsx)("h4",{style:ye,children:"Sort by:"}),Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:Object(c.jsx)("p",{className:"SORT_TIME_DOWN"===t?"selected_category":"",style:ve,onClick:function(e){return d({type:g})},children:"Latest added"})}),Object(c.jsx)("li",{children:Object(c.jsx)("p",{className:"SORT_TIME_UP"===t?"selected_category":"",style:ve,onClick:function(e){return d({type:f})},children:"Oldest added"})}),Object(c.jsx)("li",{children:Object(c.jsx)("p",{className:"SORT_PRICE_UP"===t?"selected_category":"",style:ve,onClick:function(e){return d({type:O})},children:"Price: Low to High"})}),Object(c.jsx)("li",{children:Object(c.jsx)("p",{className:"SORT_PRICE_DOWN"===t?"selected_category":"",style:ve,onClick:function(e){return d({type:x})},children:"Price: High to Low"})})]})]}),Object(c.jsxs)("div",{style:ge,children:[Object(c.jsx)("h4",{style:ye,children:"Categories:"}),Object(c.jsx)("ul",{children:l.content.length>0?l.content.map((function(e,t){if("other"===e.type)return Object(c.jsx)("li",{children:Object(c.jsx)("p",{className:n===e.slug?"selected_category":"",style:ve,onClick:function(t){return i(e.slug)},children:e.name})},t)})):"no categories in this shop"})]}),Object(c.jsxs)("div",{style:ge,children:[Object(c.jsx)("h4",{style:ye,children:"Colors:"}),Object(c.jsx)("ul",{style:Ce,children:l.content.length>0?l.content.map((function(e,t){if("color"===e.type)return Object(c.jsx)("li",{children:Object(c.jsx)("div",{className:n===e.slug?"selected_color":"",style:(s=e.name,{width:"25px",height:"25px",margin:"4px",borderRadius:"4px",backgroundColor:"".concat(s),cursor:"pointer"}),onClick:function(t){return i(e.slug)}})},t);var s})):"no colors in this shop"})]}),Object(c.jsxs)("div",{style:ge,children:[Object(c.jsx)("h4",{style:ye,children:"Sizes:"}),Object(c.jsx)("ul",{style:Ce,children:l.content.length>0?l.content.map((function(e,t){if("size"===e.type)return Object(c.jsx)("li",{children:Object(c.jsx)("div",{className:n===e.slug?"selected_size size-item":"size-item",style:Ne,onClick:function(t){return i(e.slug)},children:e.name})},t)})):"no sizes in this shop"})]})]})},Se=(n(46),{width:"100%",padding:"10px",display:"flex",flexDirection:"column",justifyContent:"space-between"}),Te={container:{width:"100%"},view:{width:"100%",display:"flex",alignItems:"center",margin:"4px 0"},sizeItem:{fontSize:12,width:30,height:30,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:2,cursor:"pointer"}},ke={container:{width:"100%",height:"50px",display:"flex"},price:{flexGrow:1,height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},priceTxt:{fontSize:"1.5rem",fontWeight:"600"},btns:{width:"50%",height:"100%",display:"flex",alignItems:"center",justifyContent:"flex-end"},btn:{}},Ie=function(e){var t=e.product,n=Object(o.b)();return Object(c.jsxs)("div",{className:"product-card",children:[Object(c.jsx)(l.b,{to:"/products/".concat(t.slug),children:Object(c.jsx)("div",{className:"product-card-thumb",children:Object(c.jsx)("img",{src:t.image.url,alt:t.name})})}),Object(c.jsxs)("div",{style:Se,children:[Object(c.jsxs)("div",{style:Te.container,children:[Object(c.jsx)(l.b,{to:"/products/".concat(t.slug),children:Object(c.jsx)("h2",{children:t.name})}),Object(c.jsx)("div",{style:Te.view,children:t.sizes.map((function(e,s){return Object(c.jsx)("div",{className:"size-item",style:Te.sizeItem,onClick:function(){return n(_(t.id,e.value,1))},children:e.value},s)}))})]}),Object(c.jsxs)("div",{style:ke.container,children:[Object(c.jsx)("div",{style:ke.price,children:Object(c.jsxs)("p",{style:ke.priceTxt,children:[t.price," ",t.currency]})}),Object(c.jsx)("button",{className:"product-card-control-btn",style:ke.btn,title:"add to cart",onClick:function(){return n(_(t.id,t.sizes[0].value,1))},children:Object(c.jsx)("i",{className:"fas fa-cart-plus"})})]})]})]})},_e={width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},Ee={fontSize:"2rem",fontWeight:"700",color:"rgba(0,0,0,.4)"},ze=function(e){var t=e.productsList;return e.loading?Object(c.jsx)("div",{className:"loader",children:Object(c.jsx)("i",{className:"fas fa-spinner"})}):0===t.length?Object(c.jsx)("div",{style:_e,children:Object(c.jsx)("p",{style:Ee,children:"No Products Available"})}):Object(c.jsx)("div",{className:"products-grid",children:t.map((function(e,t){return Object(c.jsx)(Ie,{product:e},t)}))})},Ae={display:"flex",alignItems:"center",justifyContent:"center",marginTop:"60px"},De=function(e){for(var t=e.productMeta,n=e.page,s=e.setPage,i=[],r=1;r<=t.pages_count;r++)i.push(r);return t.pages_count<1?Object(c.jsx)(c.Fragment,{}):Object(c.jsx)("div",{style:Ae,children:i.map((function(e){return Object(c.jsx)("div",{className:e===n?"selected_page page_item":"page_item",onClick:function(){return s(e)},children:e},e)}))})},Re={width:"100%",height:"100%",paddingBottom:60},Pe=function(){var e=Object(o.c)((function(e){return e.products})),t=Object(o.b)(),n=Object(s.useState)(""),i=Object(fe.a)(n,2),r=i[0],a=i[1],l=Object(s.useState)(""),d=Object(fe.a)(l,2),j=d[0],u=d[1],p=Object(s.useState)(1),h=Object(fe.a)(p,2),b=h[0],m=h[1];return Object(s.useEffect)((function(){t(I(r,j,1))}),[r,j]),Object(s.useEffect)((function(){t(I(r,j,b))}),[b]),Object(c.jsxs)("div",{style:Re,children:[Object(c.jsxs)("div",{className:"shop-header",children:[Object(c.jsx)("h3",{className:"shop-header-title",children:"All products"}),r.length>0&&Object(c.jsxs)("p",{className:"shop-header-text",children:["category: ",Object(c.jsx)("span",{className:"shop-header-text-bolder",children:r})]}),j.length>0&&Object(c.jsxs)("p",{className:"shop-header-text",children:["search for: ",Object(c.jsx)("span",{className:"shop-header-text-bolder",children:j})]})]}),Object(c.jsxs)("div",{className:"shop-body",children:[Object(c.jsx)(we,{sort:e.sortby,category:r,setCategory:a,setQuery:u,refreshShop:function(){a(""),u(""),t(I())}}),Object(c.jsxs)("div",{className:"shop-body-products",children:[Object(c.jsx)(ze,{productsList:e.content.data,loading:e.loading}),e.content.meta.pages_count>0&&Object(c.jsx)(De,{productMeta:e.content.meta,page:b,setPage:m})]})]})]})},We=(n(47),n.p+"static/media/nobg2.f11a6b4d.png"),Le=function(e){var t=e.items;return Object(c.jsx)(c.Fragment,{children:t.map((function(e,t){return Object(c.jsx)(l.b,{to:e&&e.slug?"/products/".concat(e.slug):"",children:Object(c.jsx)("div",{className:"ticker-item",children:e&&e.image&&e.name?Object(c.jsx)("img",{src:e.image.url,alt:e.name}):Object(c.jsx)("img",{src:We,alt:"wonder which one it is?",className:"blur"})})},t)}))})},Ue=function(){var e=Object(o.c)((function(e){return e.belt}));return Object(c.jsx)("div",{className:"ticker-wrap",children:Object(c.jsxs)("div",{className:"ticker",children:[Object(c.jsx)("div",{className:"belt ticker-belt-1",children:Object(c.jsx)(Le,{items:e.content.firstBelt})}),Object(c.jsx)("div",{className:"belt ticker-belt-2",children:Object(c.jsx)(Le,{items:e.content.secondBelt})})]})})},Fe=(n(48),n.p+"static/media/hero2.cfd35968.jpg"),Me=function(){return Object(c.jsxs)("div",{className:"welcome",children:[Object(c.jsxs)("div",{className:"welcome-thumb",children:[Object(c.jsx)("div",{className:"welcome-thumb-1"}),Object(c.jsx)("div",{className:"welcome-thumb-2",children:Object(c.jsx)("img",{src:Fe,alt:"heroo"})})]}),Object(c.jsxs)("div",{className:"welcome-text",children:[Object(c.jsx)("h1",{children:"WELCOME TO THE BEST MOROCCAN SHOP TO BUY A SHOE"}),Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:"fast delevery"}),Object(c.jsx)("li",{children:"best prices"}),Object(c.jsx)("li",{children:"variety of products"})]})]})]})},Be={minHeight:"100vh",width:"100%",paddingBottom:"70px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},qe=function(){return Object(c.jsxs)("div",{style:Be,children:[Object(c.jsx)(Me,{}),Object(c.jsx)(Ue,{})]})},He=(n(49),n(2)),Ge=function(e){var t=e.customerDetails,n=e.setCustomerDetails,s=e.shippingMethods,i=e.setShippingMethod;return Object(c.jsxs)("div",{className:"form-container",children:[Object(c.jsx)("div",{className:"form-header",children:Object(c.jsxs)("h2",{children:[Object(c.jsx)("span",{className:"form-header-step",children:"1"}),"Costumer details:"]})}),Object(c.jsxs)("form",{className:"shipping-form",id:"costumer-details-form",children:[Object(c.jsxs)("div",{className:"horizontal-inputs",children:[Object(c.jsxs)("div",{className:"input-group",children:[Object(c.jsx)("label",{htmlFor:"firstNameInput",className:"input-label",children:"Firstname *"}),Object(c.jsx)("input",{required:!0,type:"text",id:"firstNameInput",name:"first-name-input",className:"input-field",placeholder:"Firstname",value:t.firstname,onChange:function(e){return n(Object(He.a)(Object(He.a)({},t),{},{firstname:e.target.value}))}})]}),Object(c.jsxs)("div",{className:"input-group",children:[Object(c.jsx)("label",{htmlFor:"lastNameInput",className:"input-label",children:"Lastname *"}),Object(c.jsx)("input",{required:!0,type:"text",id:"lastNameInput",className:"input-field",placeholder:"Lastname",value:t.lastname,onChange:function(e){return n(Object(He.a)(Object(He.a)({},t),{},{lastname:e.target.value}))}})]})]}),Object(c.jsxs)("div",{className:"input-group",children:[Object(c.jsx)("label",{htmlFor:"emailInput",className:"input-label",children:"Email"}),Object(c.jsx)("input",{type:"email",id:"emailInput",className:"input-field",placeholder:"exemple@email.xyz",value:t.email,onChange:function(e){return n(Object(He.a)(Object(He.a)({},t),{},{email:e.target.value}))}})]}),Object(c.jsxs)("div",{className:"input-group",children:[Object(c.jsx)("label",{htmlFor:"phoneInput",className:"input-label",children:"Phone Number *"}),Object(c.jsxs)("div",{className:"phone-input",children:[Object(c.jsx)("span",{children:"+212"}),Object(c.jsx)("input",{required:!0,type:"tel",pattern:"[0-9]{9}",id:"phoneInput",className:"input-field",placeholder:"phone number",value:t.phone,onChange:function(e){return n(Object(He.a)(Object(He.a)({},t),{},{phone:e.target.value}))}})]})]}),Object(c.jsxs)("div",{className:"input-group",children:[Object(c.jsx)("label",{htmlFor:"countryInput",className:"input-label",children:"Country *"}),Object(c.jsx)("input",{required:!0,type:"text",id:"countryInput",className:"input-field",placeholder:"country",value:t.country,onChange:function(e){return n(Object(He.a)(Object(He.a)({},t),{},{country:e.target.value}))}})]}),Object(c.jsxs)("div",{className:"input-group",children:[Object(c.jsx)("label",{htmlFor:"regionInput",className:"input-label",children:"State *"}),Object(c.jsx)("input",{required:!0,type:"text",id:"regionInput",className:"input-field",placeholder:"region",value:t.state,onChange:function(e){return n(Object(He.a)(Object(He.a)({},t),{},{state:e.target.value}))}})]}),Object(c.jsxs)("div",{className:"input-group",children:[Object(c.jsx)("label",{htmlFor:"cityInput",className:"input-label",children:"City *"}),Object(c.jsx)("input",{required:!0,type:"text",id:"cityInput",className:"input-field",placeholder:"city",value:t.city,onChange:function(e){return n(Object(He.a)(Object(He.a)({},t),{},{city:e.target.value}))}})]}),Object(c.jsxs)("div",{className:"input-group",children:[Object(c.jsx)("label",{htmlFor:"addressInput",className:"input-label",children:"Address *"}),Object(c.jsx)("textarea",{required:!0,id:"addressInput",className:"input-field",placeholder:"Adress, City, street...",value:t.line1,onChange:function(e){return n(Object(He.a)(Object(He.a)({},t),{},{line1:e.target.value}))}})]}),Object(c.jsxs)("div",{className:"input-group",children:[Object(c.jsx)("label",{htmlFor:"addressInput",className:"input-label",children:"Address compliment *"}),Object(c.jsx)("textarea",{required:!0,id:"addressInput",className:"input-field",placeholder:"Block, Level, Door...",value:t.line2,onChange:function(e){return n(Object(He.a)(Object(He.a)({},t),{},{line2:e.target.value}))}})]}),Object(c.jsxs)("div",{className:"input-group",children:[Object(c.jsx)("label",{htmlFor:"phoneInput",className:"input-label",children:"Postal Code*"}),Object(c.jsx)("input",{required:!0,type:"text",id:"phoneInput",className:"input-field",placeholder:"postal code",value:t.postalCode,onChange:function(e){return n(Object(He.a)(Object(He.a)({},t),{},{postalCode:e.target.value}))}})]}),Object(c.jsxs)("div",{className:"input-group",children:[Object(c.jsx)("label",{htmlFor:"regionInput",className:"input-label",children:"Shipping method*"}),Object(c.jsxs)("select",{className:"input-field",onChange:function(e){return i(e.target.value)},required:!0,children:[Object(c.jsx)("option",{value:null,children:"please select a shipping method"}),s.length>0?s.map((function(e,t){return Object(c.jsxs)("option",{value:e.id,children:[e.name," ",e.price," MAD"]},t)})):""]})]})]})]})},Je=n(15),Ve={style:{base:{padding:"10px",color:"#32325d",fontFamily:"inherit",fontSmoothing:"antialiased",fontSize:"1rem","::placeholder":{color:"#686666"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}},hidePostalCode:!0},Ye=function(e){var t=e.customerDetails,n=e.checkout,i=e.clientSecret,r=e.setSucceeded,a=Object(Je.useStripe)(),l=Object(Je.useElements)(),d=Object(o.b)(),j=Object(s.useState)(null),u=Object(fe.a)(j,2),b=u[0],m=u[1],O=Object(s.useState)(!1),x=Object(fe.a)(O,2),f=x[0],g=x[1],v=Object(s.useState)(t.firstname),C=Object(fe.a)(v,2),N=C[0],w=C[1],S=Object(s.useState)(t.lastname),I=Object(fe.a)(S,2),_=I[0],E=I[1],z=function(){var e=Object(h.a)(p.a.mark((function e(t){var c,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),g(!0),a&&l){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,a.confirmCardPayment(i,{payment_method:{card:l.getElement(Je.CardElement),billing_details:{name:"".concat(N," ").concat(_)}}});case 6:if(!(c=e.sent).error){e.next=12;break}m("Payment failed ".concat(c.error.message)),g(!1),e.next=24;break;case 12:if("succeeded"!==c.paymentIntent.status){e.next=22;break}return d(function(){var e=Object(h.a)(p.a.mark((function e(t){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=T.a.get("guest_id"),console.log("EMPTY CART of id=",n),e.prev=2,e.next=5,fetch(k+"/guests/empty/"+n,{method:"PUT"}).then((function(e){return e.json()}));case 5:if(!(c=e.sent).error){e.next=9;break}return console.log(c.message),e.abrupt("return");case 9:console.log(c),t({type:y,payload:c.data}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.log("CANNOT EMPTY CART",e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}()),e.next=16,D(n.id,n.stripe_pi_id);case 16:s=e.sent,m(null),g(!1),r(s.data),e.next=24;break;case 22:m("Payment not succeeded, retry in a moment"),g(!1);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"form-container",children:[Object(c.jsx)("div",{className:"form-header",children:Object(c.jsxs)("h2",{children:[Object(c.jsx)("span",{className:"form-header-step",children:"2"}),"Payment details:"]})}),Object(c.jsxs)("form",{id:"checkout-form-stripe",className:"shipping-form",onSubmit:z,children:[Object(c.jsxs)("div",{className:"horizontal-inputs",children:[Object(c.jsxs)("div",{className:"input-group",children:[Object(c.jsx)("label",{htmlFor:"firstNameInput",className:"input-label",children:"Firstname"}),Object(c.jsx)("input",{required:!0,type:"text",id:"firstNameInput",name:"first-name-input",className:"input-field",placeholder:"Firstname",value:N,onChange:function(e){return w(e.target.value)}})]}),Object(c.jsxs)("div",{className:"input-group",children:[Object(c.jsx)("label",{htmlFor:"lastNameInput",className:"input-label",children:"Lastname"}),Object(c.jsx)("input",{required:!0,type:"text",id:"lastNameInput",className:"input-field",placeholder:"Lastname",value:_,onChange:function(e){return E(e.target.value)}})]})]}),Object(c.jsxs)("div",{className:"input-group",children:[Object(c.jsx)("label",{htmlFor:"firstNameInput",className:"input-label",children:"Card details"}),Object(c.jsx)("div",{className:"input-field input-stripe",children:Object(c.jsx)(Je.CardElement,{className:"",options:Ve})})]})]})]}),Object(c.jsxs)("div",{className:"form-underbar",children:[b?Object(c.jsx)("div",{className:"card-error",role:"alert",children:b}):Object(c.jsx)("div",{}),Object(c.jsx)("button",{disabled:!a||!i,type:"submit",form:"checkout-form-stripe",className:"checkout-btn",children:Object(c.jsx)("span",{id:"button-text",children:f?"...":"Pay"})})]})]})},Ke={backgroundColor:"#fafaf6",width:"100%",height:116,padding:7,margin:4,display:"flex",alignItems:"center",justifyContent:"space-between",zIndex:-1},Qe={container:{backgroundColor:"#fff",padding:5,width:"30%",height:"100%"},image:{width:"100%",height:"100%",objectFit:"cover"}},Ze={container:{position:"relative",height:"100%",width:"70%",padding:"0 0 0 10px",display:"flex",flexDirection:"column",justifyContent:"space-between"},data:{width:"100%",flexGrow:1},dataSub:{display:"flex",alignItems:"center",margin:"2px 0"},dataTxt:{fontWeight:"600",fontSize:"1rem",marginRight:10},price:{width:"100%",display:"flex",alignItems:"center",justifyContent:"flex-end"},priceTxt:{fontSize:"1.2rem",fontWeight:"600"}},Xe={backgroundColor:"#fafaf6",border:"1px solid #878787",color:"#878787",fontSize:12,width:20,height:20,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:2},$e=function(e){var t=e.item;return Object(c.jsxs)("div",{style:Ke,children:[Object(c.jsx)("div",{style:Qe.container,children:Object(c.jsx)("img",{src:null===t||void 0===t?void 0:t.product.image.url,alt:"sneaker",style:Qe.image})}),Object(c.jsxs)("div",{style:Ze.container,children:[Object(c.jsxs)("div",{style:Ze.data,children:[Object(c.jsx)("h3",{children:t.name}),Object(c.jsxs)("div",{style:Ze.dataSub,title:"change size and quantity in the checkout section",children:[Object(c.jsx)("p",{style:Ze.dataTxt,children:"Size:"}),Object(c.jsx)("div",{style:Xe,children:t.size})]}),Object(c.jsxs)("div",{style:Ze.dataSub,title:"change size and quantity in the checkout section",children:[Object(c.jsx)("p",{style:Ze.dataTxt,children:"Quantity:"}),Object(c.jsx)("p",{children:t.quantity})]})]}),Object(c.jsx)("div",{style:Ze.price,children:Object(c.jsxs)("p",{style:Ze.priceTxt,children:[t.product.price*t.quantity," MAD"]})})]})]})},et={maxWidth:400,marginBottom:"3rem"},tt={marginTop:"1rem",borderTop:"2px solid #840067",fontSize:"1rem",fontWeight:600},nt={width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 1rem"},ct={marginTop:"1rem",borderTop:"2px solid #840067",fontSize:"2rem",fontWeight:600,width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 1rem"},st={width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},it=function(e){var t,n=e.order,s=0,i=0,r=0,a=[],l="USD";return n&&(s=n.subtotal,i=n.shipping,r=n.total,a=n.line_items,l=n.currency),Object(c.jsxs)("div",{style:et,children:[Object(c.jsx)("h3",{children:"Order details:"}),(null===(t=a)||void 0===t?void 0:t.length)>0?Object(c.jsx)("div",{style:st,children:a.map((function(e,t){return Object(c.jsx)($e,{item:e},t)}))}):Object(c.jsx)("h3",{children:"Loading ..."}),Object(c.jsxs)("div",{style:tt,children:[Object(c.jsxs)("div",{style:nt,children:[Object(c.jsx)("p",{children:"Subtotal"}),Object(c.jsxs)("p",{children:[s," ",l]})]}),Object(c.jsxs)("div",{style:nt,children:[Object(c.jsx)("p",{children:"Shipping"}),Object(c.jsxs)("p",{children:[i," ",l]})]})]}),Object(c.jsxs)("div",{style:ct,children:[Object(c.jsx)("p",{children:"Total"}),Object(c.jsxs)("p",{children:[r," ",l]})]})]})},rt={height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:"1rem",fontWeight:"600",margin:"1rem"},at={width:"100%",margin:"8px",padding:"1rem",border:"1px solid rgba(0,0,0,.10)",boxShadow:"0px 0px 5px 0px rgba(0,0,0,.10)",backgroundColor:"rgb(252, 252, 252)"},lt={fontSize:"1.2rem",fontWeight:"700",padding:"0 0 5px 0",borderBottom:"1px solid rgba(0,0,0,.10)",display:"flex",alignItems:"center",color:"#840067"},ot={border:"1px solid rgba(0,0,0,.10)",padding:5,margin:5},dt={marginTop:"1rem",borderTop:"2px solid rgb(172, 63, 33)",fontSize:"1rem",fontWeight:600},jt={width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 1rem"},ut={marginTop:"1rem",borderTop:"2px solid rgb(172, 63, 33)",fontSize:"1.6rem",fontWeight:600,width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 1rem"},pt=function(e){var t=e.success;return Object(c.jsxs)("div",{style:rt,children:[Object(c.jsx)("h2",{children:"PURCHASE SUCCESSEFUL"}),Object(c.jsxs)("div",{style:at,children:[Object(c.jsx)("div",{style:lt,children:Object(c.jsx)("h2",{children:"Costumer details:"})}),Object(c.jsxs)("p",{children:["Order reference: ",t.reference]}),Object(c.jsxs)("p",{children:["Fullname: ",t.customer.name]}),Object(c.jsxs)("p",{children:["Email: ",t.customer.email]}),Object(c.jsxs)("p",{children:["Phone: ",t.customer.phone]})]}),Object(c.jsxs)("div",{style:at,children:[Object(c.jsx)("div",{style:lt,children:Object(c.jsx)("h2",{children:"Shipping details:"})}),Object(c.jsxs)("p",{children:["Country: ",t.shipping_data.address.country]}),Object(c.jsxs)("p",{children:["Region: ",t.shipping_data.address.state]}),Object(c.jsxs)("p",{children:["Address: ",t.shipping_data.address.line1," ",t.shipping_data.address.postal_code]})]}),Object(c.jsxs)("div",{style:at,children:[Object(c.jsx)("div",{style:lt,children:Object(c.jsx)("h2",{children:"Order details:"})}),t.line_items.map((function(e,t){return Object(c.jsxs)("div",{style:ot,children:[Object(c.jsx)("h4",{children:e.name}),Object(c.jsxs)("div",{style:jt,children:[Object(c.jsx)("p",{children:"Price"}),Object(c.jsxs)("p",{children:[e.product.price*e.quantity," MAD"]})]}),Object(c.jsxs)("div",{style:jt,children:[Object(c.jsx)("p",{children:"Size:"}),Object(c.jsx)("p",{children:e.size})]}),Object(c.jsxs)("div",{style:jt,children:[Object(c.jsx)("p",{children:"Quantity:"}),Object(c.jsx)("p",{children:e.quantity})]})]},t)})),Object(c.jsxs)("div",{style:dt,children:[Object(c.jsxs)("div",{style:jt,children:[Object(c.jsx)("p",{children:"Subtotal"}),Object(c.jsxs)("p",{children:[t.subtotal," MAD"]})]}),Object(c.jsxs)("div",{style:jt,children:[Object(c.jsx)("p",{children:"Shipping"}),Object(c.jsxs)("p",{children:[t.shipping," MAD"]})]})]}),Object(c.jsxs)("div",{style:ut,children:[Object(c.jsx)("p",{children:"Total"}),Object(c.jsxs)("p",{children:[t.total," MAD"]})]})]})]})},ht=function(){var e=Object(s.useState)({id:"",stripe_pi_id:"",shipping_methods:[]}),t=Object(fe.a)(e,2),n=t[0],i=t[1],r=Object(s.useState)({firstname:"",lastname:"",email:"",phone:"",country:"",state:"",city:"",line1:"",line2:"",postalCode:""}),a=Object(fe.a)(r,2),l=a[0],o=a[1],d=Object(s.useState)(null),j=Object(fe.a)(d,2),u=j[0],b=j[1],m=Object(s.useState)(!1),O=Object(fe.a)(m,2),x=O[0],f=O[1],g=Object(s.useState)(null),y=Object(fe.a)(g,2),v=y[0],C=y[1];return Object(s.useEffect)(Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.id){e.next=11;break}return e.prev=1,e.next=4,z(l);case 4:t=e.sent,i(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("COULD NOT CREAT CHECKOUT",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),[]),Object(s.useEffect)(Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u){e.next=12;break}return e.prev=1,e.next=4,A(n.id,u);case 4:t=e.sent,i(t.data.checkout),C(t.data.clientSecret),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("COULD NOT CREATE PAYMENT INTENT");case 12:case"end":return e.stop()}}),e,null,[[1,9]])}))),[u]),x?Object(c.jsx)(pt,{success:x}):Object(c.jsxs)("div",{className:"checkout-container",children:[Object(c.jsxs)("div",{className:"checkout-forms",children:[Object(c.jsx)(Ge,{customerDetails:l,setCustomerDetails:o,shippingMethods:n.shipping_methods,setShippingMethod:b}),Object(c.jsx)(Ye,{customerDetails:l,checkout:n,clientSecret:v,setSucceeded:f})]}),Object(c.jsx)(it,{order:n})]})},bt=(n(50),{minHeight:"90vh"}),mt={width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},Ot={fontSize:"3rem"},xt={top:{width:"100%"},bottom:{width:"100%"},title:{fontSize:"3rem",fontWeight:"700"},price:{fontSize:"2rem",fontWeight:"600",margin:"0 1rem"},description:{fontSize:"1rem",fontWeight:"600"},mainView:{margin:"1rem 0"},view:{display:"flex",alignItems:"center",justifyContent:"flex-start"},sizeItem:{fontSize:"1rem",width:40,height:40,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:4,cursor:"pointer"}},ft={display:"flex",alignItems:"center",justifyContent:"space-between",width:80,height:40,margin:"10px 0",backgroundColor:"#edede6"},gt={fontSize:"1.2rem"},yt={height:"100%",width:20,border:"none",cursor:"pointer",fontWeight:"700",fontSize:"1.4rem",backgroundColor:"#edede6",display:"flex",alignItems:"center",justifyContent:"center"},vt=function(){console.log("LOAD PRODUCT PAGE...");var e=Object(o.c)((function(e){return e.products.content.data})),t=Object(o.b)(),n=Object(d.g)(),i=Object(s.useRef)(),r=Object(s.useState)(null),a=Object(fe.a)(r,2),l=a[0],j=a[1],u=Object(s.useState)(1),p=Object(fe.a)(u,2),h=p[0],b=p[1],m=Object(s.useState)({value:null,quantity:1}),O=Object(fe.a)(m,2),x=O[0],f=O[1];Object(s.useEffect)((function(){if(e.length>0){var t=e.find((function(e){return e.slug===n.slug}));j(t),f(t.sizes[0])}}),[e,j,f]),Object(s.useEffect)((function(){b(1)}),[x,b]);var g=function(e){h+e>=1&&h+e<=x.quantity&&b((function(t){return t+e}))};return Object(c.jsx)("div",{style:bt,children:l?Object(c.jsxs)("div",{className:"product-page-intro",children:[Object(c.jsx)("div",{className:"product-page-intro-thumb",ref:i,children:Object(c.jsx)("img",{src:"http://localhost:1337"+l.image.url,alt:"product thumb"})}),Object(c.jsxs)("div",{className:"product-page-body",children:[Object(c.jsxs)("div",{style:xt.top,children:[Object(c.jsx)("p",{style:xt.title,children:l.name}),Object(c.jsx)("div",{style:xt.mainView,children:Object(c.jsx)("div",{style:xt.description,dangerouslySetInnerHTML:{__html:l.description}})})]}),Object(c.jsxs)("div",{style:xt.bottom,children:[Object(c.jsxs)("div",{style:xt.mainView,children:[Object(c.jsx)("h4",{children:"Choose a sizes:"}),Object(c.jsx)("div",{style:xt.view,children:l.sizes.map((function(e,t){return Object(c.jsx)("div",{className:e.value===x.value?"size-item selected_size":"size-item",style:xt.sizeItem,onClick:function(){return f(e)},children:e.value},t)}))})]}),Object(c.jsxs)("div",{style:xt.mainView,children:[Object(c.jsx)("h4",{children:"Choose a quantity:"}),Object(c.jsx)("div",{style:xt.view,children:Object(c.jsxs)("div",{style:ft,children:[Object(c.jsx)("button",{style:yt,onClick:function(){return g(-1)},children:"-"}),Object(c.jsx)("p",{style:gt,children:h}),Object(c.jsx)("button",{style:yt,onClick:function(){return g(1)},children:"+"})]})})]}),Object(c.jsxs)("div",{className:"product-page-body-bottom-view",children:[Object(c.jsxs)("div",{style:xt.view,children:[Object(c.jsx)("h4",{children:"Price:"}),Object(c.jsxs)("p",{style:xt.price,children:[l.price," ",l.currency]})]}),Object(c.jsx)("button",{disabled:!l,className:"addToCartBtn",onClick:function(){l&&(t(_(l.id,x.value,h)),b(1))},children:"ADD TO CART"})]})]})]})]}):Object(c.jsx)("div",{style:mt,children:Object(c.jsx)("i",{className:"fas fa-spinner",style:Ot})})})},Ct={paddingTop:60,minHeight:"100vh"},Nt=function(){var e=Object(o.b)(),t=Object(d.f)();return Object(s.useEffect)((function(){e(I()),e(function(){var e=Object(h.a)(p.a.mark((function e(t){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=T.a.get("guest_id"),console.log("GET CART of id=",n),e.prev=2,n){e.next=10;break}return e.next=6,fetch(k+"/guests/initiate").then((function(e){return e.json()}));case 6:c=e.sent,T.a.set("guest_id",c.data.id,{sameSite:"Lax"}),e.next=13;break;case 10:return e.next=12,fetch(k+"/guests/retrieve/"+n).then((function(e){return e.json()}));case 12:c=e.sent;case 13:console.log(c),c.data.id&&t({type:y,payload:c.data}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(2),console.log("CANNOT GET CART",e.t0);case 20:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(t){return e.apply(this,arguments)}}()),e(function(){var e=Object(h.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(k+"/categories/list").then((function(e){return e.json()}));case 3:n=e.sent,t({type:N,payload:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("CANNOT GET CATEGORIES",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(s.useEffect)((function(){window.scrollTo(0,0),e(R())}),[t]),Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(U,{}),Object(c.jsx)(xe,{}),Object(c.jsx)("div",{style:Ct,className:"container",children:Object(c.jsxs)(d.c,{children:[Object(c.jsx)(d.a,{exact:!0,path:"/",component:qe}),Object(c.jsx)(d.a,{exact:!0,path:"/shop",component:Pe}),Object(c.jsx)(d.a,{path:"/checkout",component:ht}),Object(c.jsx)(d.a,{path:"/products/:slug",component:vt})]})}),Object(c.jsx)(G,{})]})},wt=n(17),St=function(e,t){var n=t.type,c=t.payload;switch(n){case b:return Object(He.a)(Object(He.a)({},e),{},{products:{loading:!1,sortby:"SORT_TIME_DOWN",content:Object(He.a)(Object(He.a)({},c),{},{data:c.data.sort((function(e,t){return e.createdAt>t.createdAt?-1:e.createdAt>t.createdAt?1:0}))})}});case w:for(var s=0;s<20;s++)s<10?e.belt.content.firstBelt[s]=c.data[s]:e.belt.content.secondBelt[s-10]=c.data[s];return e.belt.loading?Object(He.a)(Object(He.a)({},e),{},{belt:{loading:!1,content:{firstBelt:e.belt.content.firstBelt,secondBelt:e.belt.content.secondBelt}}}):e;case m:return Object(He.a)(Object(He.a)({},e),{},{products:Object(He.a)(Object(He.a)({},e.products),{},{loading:c})});case O:return Object(He.a)(Object(He.a)({},e),{},{products:Object(He.a)(Object(He.a)({},e.products),{},{sortby:n,content:Object(He.a)(Object(He.a)({},e.products.content),{},{data:e.products.content.data.sort((function(e,t){return e.price<t.price?-1:e.price>t.price?1:0}))})})});case x:return Object(He.a)(Object(He.a)({},e),{},{products:Object(He.a)(Object(He.a)({},e.products),{},{sortby:n,content:Object(He.a)(Object(He.a)({},e.products.content),{},{data:e.products.content.data.sort((function(e,t){return e.price<t.price?1:e.price>t.price?-1:0}))})})});case g:return Object(He.a)(Object(He.a)({},e),{},{products:Object(He.a)(Object(He.a)({},e.products),{},{sortby:n,content:Object(He.a)(Object(He.a)({},e.products.content),{},{data:e.products.content.data.sort((function(e,t){return e.createdAt>t.createdAt?-1:e.createdAt>t.createdAt?1:0}))})})});case f:return Object(He.a)(Object(He.a)({},e),{},{products:Object(He.a)(Object(He.a)({},e.products),{},{sortby:n,content:Object(He.a)(Object(He.a)({},e.products.content),{},{data:e.products.content.data.sort((function(e,t){return e.createdAt<t.createdAt?-1:e.createdAt>t.createdAt?1:0}))})})});case y:return Object(He.a)(Object(He.a)({},e),{},{cart:Object(He.a)(Object(He.a)({},e.cart),{},{loading:!1,content:c})});case C:return Object(He.a)(Object(He.a)({},e),{},{cart:Object(He.a)(Object(He.a)({},e.cart),{},{showCart:!e.cart.showCart})});case v:return Object(He.a)(Object(He.a)({},e),{},{cart:Object(He.a)(Object(He.a)({},e.cart),{},{showCart:!1})});case N:return Object(He.a)(Object(He.a)({},e),{},{categories:Object(He.a)(Object(He.a)({},e.categories),{},{loading:!1,content:c})});default:return e}},Tt=[n(28).a],kt=Object(wt.d)(St,{cart:{loading:!0,showCart:!1,content:{subtotal:0,shipping:0,total:0,line_items:[],currency:"USD"}},belt:{loading:!0,content:{firstBelt:[1,2,3,4,5,6,7,8,9,10],secondBelt:[1,2,3,4,5,6,7,8,9,10]}},products:{loading:!0,sortby:"SORT_TIME_DOWN",content:{meta:{count:0,pages_count:0},data:[]}},categories:{loading:!0,content:[]}},Object(wt.c)(wt.a.apply(void 0,Tt))),It=n(29),_t=Object(It.a)("pk_test_51IAhE8J7GTeskiXlj6lshqDD7WRV1EVBOngi1BJpzoIb5nsUuKFbfLD0pV707h0x0Wkov9SFtiCg5nRRcnYcONGZ00CIPZlH92");a.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(o.a,{store:kt,children:Object(c.jsx)(Je.Elements,{stripe:_t,children:Object(c.jsx)(l.a,{children:Object(c.jsx)(Nt,{})})})})}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.579ae02c.chunk.js.map